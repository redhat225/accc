$(document).ready(function(){$("select").material_select(),$.ajaxSetup({error:function(){$("#mainModal-suiviClient h6").text("Opération échouée veuillez réessayer."),$("#mainModal-suiviClient").openModal()},timeout:3e5,type:"POST",dataType:"text",url:"../serverTraitor/suiviAdmin.php"}),$("#admin-avatar-change-form").on("submit",function(e){e.preventDefault();var r=!0;if(0==validateElement.isValid($("input.required",this))&&(r=!1),!r)return!1;var i=$(this),t=window.FormData?new FormData(i[0]):null,a=null!==t?t:i.serialize();$.ajax({data:a,beforeSend:function(){$(".loaderAjax").fadeIn(),$("#change-profile-avatar-submit").fadeOut()},contentType:!1,processData:!1,success:function(e){$("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal()},complete:function(){$(".loaderAjax").fadeOut(),$("#change-profile-avatar-submit").fadeIn()}})}),$("#suivi-admin-profile").on("submit",function(e){e.preventDefault()}),$("#suivi-admin-password").on("submit",function(e){e.preventDefault();var r=!0;if($("input.required",this).each(function(){0==validateElement.isValid(this)&&(r=!1)}),!r)return!1;var i=$(this);$.ajax({beforeSend:function(){$(".loaderAjax6").fadeIn(),$("#submit-changePass-admin").fadeOut()},data:i.serialize(),success:function(e){$("#mainModal-suiviAdmin h6").text(e),$("#mainModal-suiviAdmin").openModal()},complete:function(){$(".loaderAjax6").fadeOut(),$("#submit-changePass-admin").fadeIn()}})}),$("#member-table tbody tr:odd").addClass("accc-light-stripe-orange"),$(".adding-Member-wrapper").on("click",function(e){e.preventDefault(),$("#new-admin-registering").removeClass("hidden"),$("#gamer-info-table").addClass("hidden"),$("#alter-admin-registering").addClass("hidden")}),$("#suivi-admin-register-access-id").on("change",function(e){e.preventDefault(),$("#suivi-admin-register-sce-responsible").prop("selectedIndex",0);var r=$(this).find("option:selected").val(),i=$("#suivi-member-register-service-id option:selected").val(),t=$("#chief-service-wrapper"),a=$("#suivi-admin-register-sce-responsible");"responsable"==r||"agent"==r||"secretaire"==r?(4==i&&(t.removeClass("hidden"),a.addClass("required"),a.find("option").removeClass("hidden"),"agent"!=r&&"secretaire"!=r||a.find("option[id=3]").addClass("hidden"),"responsable"==r&&a.find("option[id=4]").addClass("hidden")),3==i&&"responsable"!==r&&(t.removeClass("hidden"),a.addClass("required"),a.find("option").removeClass("hidden"),a.find("option[id=4]").addClass("hidden"))):(t.addClass("hidden"),a.removeClass("required"))}),$("#suivi-member-register-service-id").on("change",function(){$("#suivi-admin-register-access-id").prop("selectedIndex",0),$("#suivi-admin-register-sce-responsible").prop("selectedIndex",0);var e=$(this).find("option:selected").val();1==e?$("#suivi-admin-register-access-id").find("option.choice-dept-courrier").removeClass("hidden"):$("#suivi-admin-register-access-id").find("option.choice-dept-courrier").addClass("hidden"),4==e?$("#suivi-admin-register-access-id").find("option.choice-dept-chefsce").removeClass("hidden"):$("#suivi-admin-register-access-id").find("option.choice-dept-chefsce").addClass("hidden"),3==e&&4==e||$("#chief-service-wrapper").addClass("hidden")}),$("#suivi-admin-register-access-alter-id").on("change",function(e){e.preventDefault(),$("#suivi-admin-register-alter-sce-responsible").prop("selectedIndex",0);var r=$(this).find("option:selected").val(),i=$("#suivi-member-register-alter-service-id option:selected").val(),t=$("#chief-service-wrapper-alter"),a=$("#suivi-admin-register-alter-sce-responsible");"responsable"==r||"agent"==r||"secretaire"==r?(4==i&&(t.removeClass("hidden"),a.addClass("required"),a.find("option").removeClass("hidden"),"agent"!=r&&"secretaire"!=r||a.find("option[id=3]").addClass("hidden"),"responsable"==r&&a.find("option[id=4]").addClass("hidden")),3==i&&"responsable"!==r&&(t.removeClass("hidden"),a.addClass("required"),a.find("option").removeClass("hidden"),a.find("option[id=4]").addClass("hidden"))):(t.addClass("hidden"),a.removeClass("required"))}),$("#suivi-member-register-alter-service-id").on("change",function(){$("#suivi-admin-register-access-alter-id").prop("selectedIndex",0),$("#suivi-admin-register-alter-sce-responsible").prop("selectedIndex",0);var e=$(this).find("option:selected").val();1==e?$("#suivi-admin-register-access-alter-id").find("option.choice-dept-courrier").removeClass("hidden"):$("#suivi-admin-register-access-alter-id").find("option.choice-dept-courrier").addClass("hidden"),4==e?$("#suivi-admin-register-access-alter-id").find("option.choice-dept-chefsce").removeClass("hidden"):$("#suivi-admin-register-access-alter-id").find("option.choice-dept-chefsce").addClass("hidden"),3==e&&4==e||$("#chief-service-wrapper-alter").addClass("hidden")}),$("#new-admin-registering").on("submit",function(e){e.preventDefault();var r=!0;if($("textarea.required,input.required",this).each(function(){0==validateElement.isValid(this)&&(r=!1)}),$(this).find("select.required").each(function(){""==$("option:selected",this).val()&&(r=!1)}),!r)return!1;var i=$(this);$.ajax({beforeSend:function(){$(".loaderAjax").fadeIn(),$("#register-new-admin-trigger").fadeOut()},data:i.serialize(),success:function(e){"ok"===e?($("#mainModal-suiviAdmin h6").text("Administrateur enregistré avec succès !"),$("#mainModal-suiviAdmin").openModal(),$("a.refresh-assets").trigger("click")):($("#mainModal-suiviAdmin h6").text(e),$("#mainModal-suiviAdmin").openModal())},complete:function(){$(".loaderAjax").fadeOut(),$("#register-new-admin-trigger").fadeIn()}})}),$("#alter-admin-cancel").on("click",function(){$("#alter-admin-registering").addClass("hidden")}),$("#register-new-admin-cancel").on("click",function(){$("#new-admin-registering").addClass("hidden"),$("#gamer-info-table").removeClass("hidden")}),$(".change-member-trigger").on("click",function(){var e=new Array;$(this).parents("tr").find("td:not(:last-child)").each(function(){e.push($(this).text()),$("#alter-admin-registering").removeClass("hidden"),$("#new-admin-registering").addClass("hidden"),$("#new-admin-registering  button[type=reset]").trigger("click")}),$("input#suivi-alter-id").val(e[0]),$("textarea#suivi-alter-name").val(e[1]),$("textarea#suivi-alter-surname").val(e[2]),$("textarea#suivi-member-register-fonction-alter-id").val(e[6]),$("input#suivi-alter-login").val(e[3]),$("#alterMember").openModal({dismissible:!1}),$currentTriggerTrash=$(this).parent().find("i"),$currentLoaderTrash=$(this).parent().find("img:eq(0)")}),$("#register-new-admin-cancel").on("click",function(){$("#suivi-admin-register-alter-sce-responsible").addClass("hidden")}),$("#alter-member-submit").on("click",function(e){e.preventDefault();var r=!0,i=$("#alter-admin-registering");return $("textarea.required,input.required",i).each(function(){0==validateElement.isValid(this)&&(r=!1)}),$(i).find("select.required").each(function(){""==$("option:selected",this).val()&&(r=!1)}),r?void $.ajax({beforeSend:function(){$currentTriggerTrash.fadeOut(),$currentLoaderTrash.fadeIn()},data:i.serialize(),success:function(e){"ok"===e?($("#mainModal-suiviAdmin h6").text("Utilisateur modifié avec succes"),$("a.refresh-assets").trigger("click"),$("#mainModal-suiviAdmin").openModal()):($("#mainModal-suiviAdmin h6").text(e),$("#mainModal-suiviAdmin").openModal())},complete:function(){$currentTriggerTrash.fadeOut(),$currentLoaderTrash.fadeIn()}}):!1}),$(".trash-member").on("click",function(e){e.preventDefault(),$currentTriggerTrash=$(this).parent().find("i"),$currentLoaderTrash=$(this).parent().find("img:eq(0)"),$currentSelectedLine=$(this).parents("tr"),$("#confirmDeleteMember span#member-deleted").text($(this).parents("tr").find("td:eq(1),td:eq(2)").text()),$("#confirmDeleteMember span#member-deleted-id").text($(this).parents("tr").find("td:eq(0)").text()),$("#confirmDeleteMember input#avatar-deleted-member").val($(this).parents("tr").find("td:eq(7)").text()),$("#confirmDeleteMember").openModal()}),$("#delete-member-trigger").on("click",function(e){e.preventDefault(),isErrorFree=!0;var r=$("#member-deleted-id").text(),i=$("input#avatar-deleted-member").val(),t=$("span#member-deleted").text();return/^[0-9]{1,9}$/.test(r)||(isErrorFree=!1),isErrorFree?void $.ajax({beforeSend:function(){$currentTriggerTrash.fadeOut(),$currentLoaderTrash.fadeIn()},type:"POST",dataType:"text",data:"idMember="+r+"&admin-control=5&adminAvatar="+i+"&memberName="+t,success:function(e){"ok"===e?($("#mainModal-suiviAdmin h6.modal-text").text("Membre supprimé du fichier d'administration"),$currentSelectedLine.remove()):$("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal()},complete:function(){$currentTriggerTrash.fadeIn(),$currentLoaderTrash.fadeOut()}}):!1}),$(".adding-client-wrapper").on("click",function(e){e.preventDefault(),$("#new-client-registering").toggleClass("hidden")}),$("#new-client-registering").on("submit",function(e){e.preventDefault();var r=!0;if($("input.required,textarea.required",this).each(function(){0==validateElement.isValid(this)&&(r=!1)}),""==$("#raison-client-register option:selected").val()&&(r=!1),!r)return!1;var i=$(this);$.ajax({beforeSend:function(){$(".loaderAjax").fadeIn(),$("#register-new-client-submit").fadeOut()},data:i.serialize(),success:function(e){$("#mainModal-suiviAdmin h6").text(e),$("#mainModal-suiviAdmin").openModal()},complete:function(){$(".loaderAjax").fadeOut(),$("#register-new-client-submit").fadeIn()}})}),$.each($("#client-table tbody tr"),function(){$(this).bind("click",function(){var e=new Array;$(this).find("td:not(:last-child)").each(function(){e.push($(this).text()),$("#alter-client-registering").removeClass("hidden"),$("#new-client-registering").addClass("hidden"),$("#new-client-registering  button[type=reset]").trigger("click")}),$("input#suivi-alter-client-id").val(e[0]),$("textarea#suivi-alter-client-name-id").val(e[1]),$("textarea#suivi-alter-client-login-id").val(e[2]),$("input#suivi-alter-client-email-id").val(e[3]),$("input#suivi-client-alter-phone-id").val(e[6]),$selectValue=e[5],$("#raison-client-alter-id option").each(function(){$(this).val()===$selectValue?$(this)[0].setAttribute("selected","true"):$(this)[0].removeAttribute("selected","false")})})}),$("#cancel-client-alter").on("click",function(){$(this).parents("form").addClass("hidden")}),$("#alter-client-registering").on("submit",function(e){e.preventDefault();var r=!0;if($("textarea.required,input.required",this).each(function(){0==validateElement.isValid(this)&&(r=!1)}),$(this).find("select").each(function(){""==$("option:selected",this).val()&&(r=!1)}),!r)return!1;var i=$(this);$.ajax({beforeSend:function(){$(".loaderAjax").fadeIn(),$("#alter-client-credentials").fadeOut(),$("#cancel-client-alter").fadeOut()},data:i.serialize(),success:function(e){"ok"===e?($("#mainModal-suiviAdmin h6").text("Client modifié avec succces"),$("ul#game-gift-menu li a[href=suivi-client-admin]").trigger("click")):$("#mainModal-suiviAdmin h6").text(e),$("#mainModal-suiviAdmin").openModal()},complete:function(){$(".loaderAjax").fadeOut(),$("#alter-client-credentials").fadeIn(),$("#cancel-client-alter").fadeIn()}})}),$(".trash-client").on("click",function(e){e.preventDefault(),$currentTriggerTrash=$(this).parent().find("i"),$currentLoaderTrash=$(this).parent().find("img:eq(0)"),$currentSelectedLine=$(this).parents("tr"),$("#confirmDeleteClient span#member-deleted").text($(this).parents("tr").find("td:eq(1)").text()),$("#confirmDeleteClient span#member-deleted-id").text($(this).parents("tr").find("td:eq(0)").text()),$("#confirmDeleteClient input#avatar-deleted-member").val($(this).parents("tr").find("td:eq(7)").text()),$("#confirmDeleteClient").openModal()}),$("#delete-client-trigger").on("click",function(e){e.preventDefault(),isErrorFree=!0;var r=$("#member-deleted-id").text(),i=($("input#avatar-deleted-member").val(),$("#member-deleted").text());return/^[0-9]{1,9}$/.test(r)||(isErrorFree=!1),isErrorFree?void $.ajax({beforeSend:function(){$currentTriggerTrash.fadeOut(),$currentLoaderTrash.fadeIn()},type:"POST",dataType:"text",data:"idMember="+r+"&admin-control=8&clientDeleted="+i,success:function(e){"ok"===e?($("#mainModal-suiviAdmin h6.modal-text").text("Client supprimé du fichier d'administration"),$currentSelectedLine.remove()):$("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal()},complete:function(){$currentTriggerTrash.fadeIn(),$currentLoaderTrash.fadeOut()}}):!1}),$(".adding-Push-wrapper").on("click",function(e){e.preventDefault(),$("#new-Push-Message-registering").toggleClass("hidden")}),$(".receive-push-trigger").on("click",function(){$("#push-receive-wrapper").toggleClass("hidden"),$(".send-push-trigger").removeClass("grey-text").addClass("accc-color"),$(this).removeClass("accc-color").addClass("grey-text"),$("#push-send-wrapper").addClass("hidden")}),$(".send-push-trigger").on("click",function(){$("#push-send-wrapper").toggleClass("hidden"),$(".receive-push-trigger").removeClass("grey-text").addClass("accc-color"),$(this).removeClass("accc-color").addClass("grey-text"),$("#push-receive-wrapper").addClass("hidden")}),$("#new-Push-Message-registering").on("submit",function(e){if(e.preventDefault(),isErrorFree=!0,0==validateElement.isValid($("textarea.required",this))&&(isErrorFree=!1),$(this).find("input:checkbox").is(":checked")||(isErrorFree=!1),!isErrorFree)return!1;var r=$(this);$.ajax({beforeSend:function(){$(".loaderAjax").fadeIn(),$("#submit-push").fadeOut()},data:r.serialize(),success:function(e){$("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal()},error:function(){alert("Une erreur est survenue lors de l'opération , Réessayer svp.")},complete:function(){$(".loaderAjax").fadeOut(),$("#submit-push").fadeIn(),$("ul#game-gift-menu li a[href=suivi-push-admin]").trigger("click")}})}),$(".trash-push").on("click",function(e){if(e.preventDefault(),isErrorFree=!0,$curTrigTrashGamer=$(this).parent().find("i"),$curTrigTrashGamerLoader=$(this).parent().find("img:eq(0)"),$selectedLineGamer=$(this).parents("tr"),$idPush=$(this).parents("tr").find("td:eq(0)").text(),!isErrorFree)return!1;$("input#conf-gamer-delete").val();$.ajax({beforeSend:function(){$curTrigTrashGamer.fadeOut(),$curTrigTrashGamerLoader.fadeIn()},dataType:"text",data:"idPush="+$idPush+"&admin-control=29",success:function(e){"ok"===e&&$selectedLineGamer.fadeOut()},error:function(){alert("Une erreur est survenue lors de l'opération , Réessayer svp.")},complete:function(){$curTrigTrashGamer.fadeIn(),$curTrigTrashGamerLoader.fadeOut(),$selectedLineGamer.fadeOut()}})}),$(".state-seen-push-trigger").on("click",function(e){return e.preventDefault(),isErrorFree=!0,$curTrigTrashGamer=$(this).parent().find("i"),$curTrigTrashGamerLoader=$(this).parent().find("img:eq(1)"),$idPush=$(this).parents("tr").find("td:eq(0)").text(),$statePush=$(this).parents("tr").find("td:eq(5)").text(),isErrorFree?void $.ajax({beforeSend:function(){$curTrigTrashGamer.fadeOut(),$curTrigTrashGamerLoader.fadeIn()},data:"idPush="+$idPush+"&admin-control=27",success:function(e){"ok"===e&&$("ul#game-gift-menu li a[href=suivi-push-admin]").trigger("click")},error:function(){alert("Une erreur est survenue lors de l'opération , Réessayer svp.")},complete:function(){$curTrigTrashGamer.fadeIn(),$curTrigTrashGamerLoader.fadeOut()}}):!1}),$(".state-unseen-push-trigger").on("click",function(e){return e.preventDefault(),isErrorFree=!0,$curTrigTrashGamer=$(this).parent().find("i"),$curTrigTrashGamerLoader=$(this).parent().find("img:eq(1)"),$idPush=$(this).parents("tr").find("td:eq(0)").text(),$statePush=$(this).parents("tr").find("td:eq(5)").text(),isErrorFree?void $.ajax({beforeSend:function(){$curTrigTrashGamer.fadeOut(),$curTrigTrashGamerLoader.fadeIn()},data:"idPush="+$idPush+"&admin-control=28",success:function(e){"ok"===e&&$("ul#game-gift-menu li a[href=suivi-push-admin]").trigger("click")},error:function(){alert("Une erreur est survenue lors de l'opération , Réessayer svp.")},complete:function(){$curTrigTrashGamer.fadeIn(),$curTrigTrashGamerLoader.fadeOut()}}):!1}),$(".trash-push-inbox").on("click",function(e){return e.preventDefault(),isErrorFree=!0,$curTrigTrashGamer=$(this).parent().find("i"),$curTrigTrashGamerLoader=$(this).parent().find("img"),$selectedLineGamer=$(this).parents("tr"),$idPush=$(this).parents("tr").find("td:eq(0)").text(),isErrorFree?void $.ajax({beforeSend:function(){$curTrigTrashGamer.fadeOut(),$curTrigTrashGamerLoader.fadeIn()},dataType:"text",data:"idPush="+$idPush+"&admin-control=37",success:function(e){$("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal(),$selectedLineGamer.fadeOut()},error:function(){alert("Une erreur est survenue lors de l'opération , Réessayer svp.")},complete:function(){$curTrigTrashGamer.fadeIn(),$curTrigTrashGamerLoader.fadeOut(),$selectedLineGamer.fadeOut()}}):!1}),$("#adding-new-courrier-trigger").on("click",function(e){e.preventDefault(),$("#form-new-courrier-wrapper").removeClass("hidden")}),$("#adding-new-filter-courrier-trigger").on("click",function(e){e.preventDefault(),$("#Filtrage-wrapper").removeClass("hidden"),$("#form-new-courrier-wrapper").addClass("hidden"),$("#assigning-service-courrier-wrapper").addClass("hidden"),$("#sortie-service-courrier-wrapper").addClass("hidden"),$("#alter-register-courrier-wrapper").addClass("hidden")}),$("#assigning-service-courrier-trigger").on("click",function(e){e.preventDefault(),$("#assigning-service-courrier-wrapper").removeClass("hidden"),$("#filtrage-courrier-wrapper").addClass("hidden"),$("#form-new-courrier-wrapper").addClass("hidden"),$("#sortie-service-courrier-wrapper").addClass("hidden"),$("#alter-register-courrier-wrapper").addClass("hidden")}),$(".adding-new-exit-courrier-trigger").on("click",function(e){e.preventDefault(),$("#sortie-service-courrier-wrapper").removeClass("hidden"),$("#assigning-service-courrier-wrapper").addClass("hidden"),$("#filtrage-courrier-wrapper").addClass("hidden"),$("#form-new-courrier-wrapper").addClass("hidden"),$("#alter-register-courrier-wrapper").addClass("hidden")}),$(".change-info-courrier-trigger").on("click",function(e){e.preventDefault(),$("#alter-register-courrier-wrapper").removeClass("hidden"),$("#sortie-service-courrier-wrapper").addClass("hidden"),$("#assigning-service-courrier-wrapper").addClass("hidden"),$("#filtrage-courrier-wrapper").addClass("hidden"),$("#form-new-courrier-wrapper").addClass("hidden")}),$("select#register-courrier-urgence-id").on("change",function(e){e.preventDefault(),$urgenceVal=$("option:selected",this).val(),2==$urgenceVal?($("#delay-register-wrapper").removeClass("hidden"),$("#register-courrier-delay-id").addClass("required")):($("#delay-register-wrapper").addClass("hidden"),$("#register-courrier-delay-id").removeClass("required"))}),$("#new-courrier-registering").on("submit",function(e){e.preventDefault();var r=!0;$("select#register-courrier-urgence-id option:selected").val();if($("textarea.required,input.required",this).each(function(){0==validateElement.isValid(this)&&(r=!1)}),0==validateElement.isValid($("input#courrier-scan-input",this))?(r=!1,$("#file-path-courrier").removeClass("valid").addClass("invalid")):$("#file-path-courrier").removeClass("invalid").addClass("valid"),$(this).find("select").each(function(){""==$("option:selected",this).val()&&(r=!1)}),!r)return!1;var i=$(this),t=window.FormData?new FormData(i[0]):null,a=null!==t?t:i.serialize();$.ajax({data:a,beforeSend:function(){$(".loaderAjax").fadeIn(),$("#register-new-courrier-submit").fadeOut(),$("#register-internal-depart-cancel").fadeOut(),$("#new-courrier-registering").fadeOut()},contentType:!1,processData:!1,success:function(e){$("#mainModal-suiviAdmin h6.modal-text").text(e),$("a.refresh-assets").trigger("click"),Materialize.toast(e,6e3);var r=parseInt($(".alert-size-number-new-courrier").text());$(".alert-size-number-new-courrier").text(r+1)},complete:function(){$(".loaderAjax").fadeOut(),$("#register-new-courrier-submit").fadeIn(),$("#register-internal-depart-cancel").fadeIn(),$("#new-courrier-registering").fadeIn()}})}),$("#register-new-courrier-cancel").on("click",function(){$("#form-new-courrier-wrapper").addClass("hidden"),$("#gamer-info-table").removeClass("hidden")}),$("#assiging-service-form").on("submit",function(e){e.preventDefault();var r=!0;if($("input.required,textarea.required",this).each(function(){0==validateElement.isValid(this)&&(r=!1)}),$(this).find("select").each(function(){""==$("option:selected",this).val()&&(r=!1)}),!r)return!1;var i=$(this);$.ajax({data:i.serialize(),beforeSend:function(){$(".loaderAjax").fadeIn(),$("#assiging-courrier-submit").fadeOut(),$("#assiging-courrier-cancel").fadeOut()},data:i.serialize(),success:function(e){"ok"===e?$("ul#game-gift-menu li a[href=suivi-courrier-admin]").trigger("click"):($("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal())},complete:function(){$(".loaderAjax").fadeOut(),$("#assiging-courrier-submit").fadeIn(),$("#assiging-courrier-cancel").fadeIn()}})}),$("#adding-new-exit-courrier-trigger").on("click",function(e){e.preventDefault();var r=$(this).parents("tr").find("td:eq(0)").text();$("#sortie-courrier-form #id-exit-courrier-id").val(r),$("#sortie-service-courrier-wrapper").removeClass("hidden")}),$("#sortie-courrier-form").on("submit",function(e){e.preventDefault();var r=!0;if($("input.required,textarea.required",this).each(function(){0==validateElement.isValid(this)&&(r=!1)}),$(this).find("select").each(function(){""==$("option:selected",this).val()&&(r=!1)}),!r)return!1;var i=$(this),t=window.FormData?new FormData(i[0]):null,a=null!==t?t:i.serialize();$.ajax({data:i.serialize(),beforeSend:function(){$(".loaderAjax").fadeIn(),$("#sortie-courrier-submit").fadeOut(),$("#sortie-courrier-cancel").fadeOut()},data:a,success:function(e){"ok"===e?($("#mainModal-suiviAdmin h6.modal-text").text("Opération reussie!"),$("a.refresh-assets").trigger("click")):$("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal()},contentType:!1,processData:!1,complete:function(){$(".loaderAjax").fadeOut(),$("#sortie-courrier-submit").fadeIn(),$("#sortie-courrier-cancel").fadeIn()}})}),$(".change-info-courrier-trigger").on("click",function(e){e.preventDefault();var r=new Array;$(this).parents("tr").find("td:not(:last-child)").each(function(){r.push($(this).text())}),$("textarea#alter-register-courrier-objet-id").val(r[4]),$("textarea#alter-register-courrier-suivi-id").val(r[2]);var i=$(this).parents("tr").find("td:eq(0)").text();$("#alter-register-courrier-form #id-alter-register-courrier-id").val(i);var t=$(this).parents("tr").find("td:eq(10)").attr("id");$("#alter-register-courrier-form #id-state-treatment-id").val(t);var a=$(this).parents("tr").find("td a.path-down-courrier").attr("id");$("#alter-register-courrier-form #id-alter-scan-courrier-id").val(a)}),$("#alter-register-courrier-form").on("submit",function(e){e.preventDefault();var r=!0;if($("input.required,textarea.required",this).each(function(){0==validateElement.isValid(this)&&(r=!1)}),!r)return!1;var i=$(this),t=window.FormData?new FormData(i[0]):null,a=null!==t?t:i.serialize();$.ajax({beforeSend:function(){$(".loaderAjax").fadeIn(),$("#alter-courrier-submit").fadeOut(),$("#alter-courrier-cancel").fadeOut()},data:a,contentType:!1,processData:!1,success:function(e){$("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal(),$("a.refresh-assets").trigger("click")},complete:function(){$(".loaderAjax").fadeOut(),$("#alter-courrier-submit").fadeIn(),$("#alter-courrier-cancel").fadeIn()}})}),$(".change-info-courrier-sortie-trigger").on("click",function(e){e.preventDefault();var r=new Array;$(this).parents("tr").find("td:not(:eq(4))").each(function(){r.push($(this).text())}),$("textarea#alter-register-courrier-sortie-suivi-id").val(r[2]),$("textarea#alter-register-courrier-sortie-objet-id").val(r[3]),$("textarea#alter-register-courrier-sortie-obs-id").val(r[6]),$("input#id-alter-sortie-courrier-suivi-id").val(r[2]),$("input#id-alter-sortie-courrier-id").val(r[0]),$("#alter-register-courrier-sortie-wrapper").removeClass("hidden")}),$("#alter-register-courrier-sortie-form").on("submit",function(e){e.preventDefault();var r=!0;if($("input.required",this).each(function(){0==validateElement.isValid(this)&&(r=!1)}),!r)return!1;var i=$(this),t=window.FormData?new FormData(i[0]):null,a=null!==t?t:i.serialize();$.ajax({beforeSend:function(){$(".loaderAjax").fadeIn(),$("#alter-courrier-sortie-submit").fadeOut(),$("#alter-courrier-sortie-cancel").fadeOut()},data:a,contentType:!1,processData:!1,success:function(e){$("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal(),$("a.refresh-assets").trigger("click")},complete:function(){$(".loaderAjax").fadeOut(),$("#alter-courrier-sortie-submit").fadeIn(),$("#alter-courrier-sortie-cancel").fadeIn()}})}),$(".trash-courrier-trigger").on("click",function(e){e.preventDefault(),$currentTriggerTrash=$(this).parent().find("i"),$currentLoaderTrash=$(this).parent().find("img:eq(1)"),$currentSelectedLine=$(this).parents("tr"),$("#confirmDeleteCourrier span#courrier-deleted-suivi").text($(this).parents("tr").find("td:eq(2)").text()),$("input#courrier-deleted-id").val($(this).parents("tr").find("td:eq(0)").text()),$("input#courrier-join-piece").val($(this).parents("tr").find("td a.path-down-courrier").attr("id")),$("#confirmDeleteCourrier").openModal()}),$("#delete-courrier-trigger").on("click",function(e){e.preventDefault(),isErrorFree=!0;var r=$("#courrier-deleted-id").val(),i=$("span#courrier-deleted-suivi").text(),t=$("input#courrier-join-piece").val();return/^[0-9]{1,9}$/.test(r)||(isErrorFree=!1),isErrorFree?void $.ajax({beforeSend:function(){$currentTriggerTrash.fadeOut(),$currentLoaderTrash.fadeIn()},data:"idCourrier="+r+"&admin-control=26&numSuivi="+i+"&pathScan="+t,success:function(e){"ok"===e?$currentSelectedLine.remove():($("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal())},complete:function(){$currentTriggerTrash.fadeIn(),$currentLoaderTrash.fadeOut()}}):!1}),$(".adding-Task-trigger").on("click",function(){$("#new-task-registering").toggleClass("hidden")}),$("#new-task-registering").on("submit",function(e){e.preventDefault();var r=!0;if($("textarea.required,input.required",this).each(function(){0==validateElement.isValid(this)&&(r=!1)}),$(this).find("select").each(function(){""==$("option:selected",this).val()&&(r=!1)}),!r)return!1;var i=$(this);$.ajax({beforeSend:function(){$(".loaderAjax").fadeIn(),$("#register-new-task-trigger").fadeOut(),$("#cancel-new-task-trigger").fadeOut()},data:i.serialize(),success:function(e){$("#mainModal-suiviAdmin h6").text(e),$("#mainModal-suiviAdmin").openModal()},complete:function(){$(".loaderAjax").fadeOut(),$("#register-new-task-trigger").fadeIn(),$("#cancel-new-task-trigger").fadeIn()}})}),$(".trash-task").on("click",function(e){e.preventDefault(),$currentTriggerTrash=$(this).parent().find("i"),$currentLoaderTrash=$(this).parent().find("img:eq(0)"),$currentSelectedLine=$(this).parents("tr"),$("#confirmDeleteTask span#task-deleted-id").text($(this).parents("tr").find("td:eq(0)").text()),$("#confirmDeleteTask").openModal()}),$("#delete-task-trigger").on("click",function(e){e.preventDefault(),isErrorFree=!0;var r=$("#task-deleted-id").text();return/^[0-9]{1,9}$/.test(r)||(isErrorFree=!1),isErrorFree?void $.ajax({beforeSend:function(){$currentTriggerTrash.fadeOut(),$currentLoaderTrash.fadeIn()},type:"POST",dataType:"text",data:"idTask="+r+"&admin-control=16",success:function(e){"ok"===e?$currentSelectedLine.remove():($("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal())},complete:function(){$currentTriggerTrash.fadeIn(),$currentLoaderTrash.fadeOut()}}):!1}),$(".seen-task-trigger").on("click",function(e){if(e.preventDefault(),isErrorFree=!0,$curTrigTrashGamer=$(this).parent().find("i"),$curTrigTrashGamerLoader=$(this).parent().find("img:eq(1)"),$idTask=$(this).parents("tr").find("td:eq(0)").text(),!isErrorFree)return!1;$("input#conf-gamer-delete").val();$.ajax({beforeSend:function(){$curTrigTrashGamer.fadeOut(),$curTrigTrashGamerLoader.fadeIn()},data:"idTask="+$idTask+"&admin-control=33&seenTache=1",success:function(e){"ok"===e?$("ul#game-gift-menu li a[href=suivi-task-admin]").trigger("click"):($("#AdminModal h6.modal-text").text(e),$("#AdminModal").openModal())},error:function(){alert("Une erreur est survenue lors de l'opération , Réessayer svp.")},complete:function(){$curTrigTrashGamer.fadeIn(),$curTrigTrashGamerLoader.fadeOut()}})}),$(".unseen-task-trigger").on("click",function(e){if(e.preventDefault(),isErrorFree=!0,$curTrigTrashGamer=$(this).parent().find("i"),$curTrigTrashGamerLoader=$(this).parent().find("img:eq(1)"),$idTask=$(this).parents("tr").find("td:eq(0)").text(),!isErrorFree)return!1;$("input#conf-gamer-delete").val();$.ajax({beforeSend:function(){$curTrigTrashGamer.fadeOut(),$curTrigTrashGamerLoader.fadeIn()},data:"idTask="+$idTask+"&admin-control=33&seenTache=0",success:function(e){"ok"===e?$("ul#game-gift-menu li a[href=suivi-task-admin]").trigger("click"):($("#AdminModal h6.modal-text").text(e),$("#AdminModal").openModal())},error:function(){alert("Une erreur est survenue lors de l'opération , Réessayer svp.")},complete:function(){$curTrigTrashGamer.fadeIn(),$curTrigTrashGamerLoader.fadeOut()}})}),$(".edit-task").bind("click",function(){var e=new Array;$(this).parents("tr").find("td:not(:last-child)").each(function(){e.push($(this).text()),$("#alter-task-registering").removeClass("hidden"),$("#new-task-registering").addClass("hidden"),$("#new-task-registering  button[type=reset]").trigger("click")}),$("input#alter-task-id").val(e[0]),$("textarea#suivi-task-alter-desc-id").val(e[2]),$("textarea#suivi-task-alter-numSuivi-id").val(e[1])}),$("#cancel-client-alter").on("click",function(){$(this).parents("form").addClass("hidden")}),$("#alter-task-registering").on("submit",function(e){e.preventDefault();var r=!0;if($("textarea.required,input.required",this).each(function(){0==validateElement.isValid(this)&&(r=!1)}),$(this).find("select").each(function(){""==$("option:selected",this).val()&&(r=!1)}),!r)return!1;var i=$(this);$.ajax({beforeSend:function(){$(".loaderAjax").fadeIn(),$("#alter-task-submit-trigger").fadeOut(),$("#cancel-alter-task-trigger").fadeOut()},data:i.serialize(),success:function(e){"ok"===e?($("#mainModal-suiviAdmin h6").text("Tâche d'exécution modifiée"),$("ul#game-gift-menu li a[href=suivi-task-admin]").trigger("click")):$("#mainModal-suiviAdmin h6").text(e),$("#mainModal-suiviAdmin").openModal()},complete:function(){$(".loaderAjax").fadeOut(),$("#alter-task-submit-trigger").fadeIn(),$("#cancel-alter-task-trigger").fadeIn()}})}),$(".done-task-trigger").on("click",function(){var e=$("#done-task-form");e.removeClass("hidden"),e.find("button[type=reset]").trigger("click"),e.removeClass("hidden");var r=$(this).parents("tr").find("td:eq(0)").text(),i=$(this).parents("tr").find("td:eq(1)").text();$("#suivi-task-done-suivi-id").val(i),$("#task-done-id").val(r)}),$("#done-task-form").on("submit",function(e){e.preventDefault();var r=!0;if($("textarea.required,input.required",this).each(function(){0==validateElement.isValid(this)&&(r=!1)}),!r)return!1;var i=$(this);$.ajax({beforeSend:function(){$(".loaderAjax").fadeIn(),$("#done-task-submit-trigger").fadeOut(),$("#cancel-done-task-trigger").fadeOut()},data:i.serialize(),success:function(e){"ok"===e?($("#mainModal-suiviAdmin h6").text("Tâche exécutée!"),$("ul#game-gift-menu li a[href=suivi-task-admin]").trigger("click")):$("#mainModal-suiviAdmin h6").text(e),$("#mainModal-suiviAdmin").openModal()},complete:function(){$(".loaderAjax").fadeOut(),$("#done-task-submit-trigger").fadeIn(),$("#cancel-done-task-trigger").fadeIn()}})}),$(".undone-task-trigger").on("click",function(){$idTaskDeleteCr=$(this).parents("tr").find("td:eq(0)").text(),$("#task-done-undone-id").text($idTaskDeleteCr),
$("#confirmUndoTask").openModal(),$currentUndonePicto=$(this).parent().find("i"),$currentLoaderPicto=$(this).parent().find("img:eq(1)")}),$("#undo-task-submit-trigger").on("click",function(e){e.preventDefault();var r=!0;if(/^[0-9]{1,9}$/.test($idTaskDeleteCr)||(r=!1),0==validateElement.isValid($("input#conf-cr-task-delete-pass"))&&(r=!1),!r)return!1;var i=($(this),$("input#conf-cr-task-delete-pass").val());$.ajax({beforeSend:function(){$(".loaderAjax").fadeIn(),$currentUndonePicto.fadeOut(),$currentLoaderPicto.fadeIn()},data:"idTaskDeleteCr="+$idTaskDeleteCr+"&admin-control=17&pass="+i,success:function(e){"ok"===e?($("#mainModal-suiviAdmin h6").text("Etat d'exécution modifiée"),$("ul#game-gift-menu li a[href=suivi-task-admin]").trigger("click")):$("#mainModal-suiviAdmin h6").text(e),$("#mainModal-suiviAdmin").openModal()},complete:function(){$(".loaderAjax").fadeOut(),$currentUndonePicto.fadeIn(),$currentLoaderPicto.fadeOut()}})}),$(".edit-cr").bind("click",function(){$("#alter-cr-tache  button[type=reset]").trigger("click");var e=new Array;$(this).parents("tr").find("td:not(:last-child)").each(function(){e.push($(this).text()),$("#alter-cr-courrier-wrapper").removeClass("hidden")}),$("input#id-task-cr-id").val(e[0]),$("textarea#suivi-alter-cr-desc-id").val(e[5])}),$("#alter-cr-tache").on("submit",function(e){e.preventDefault();var r=!0;if($("textarea.required,input.required",this).each(function(){0==validateElement.isValid(this)&&(r=!1)}),!r)return!1;var i=$(this);$.ajax({beforeSend:function(){$(".loaderAjax").fadeIn(),$("#alter-cr-courrier-submit").fadeOut(),$("#alter-cr-courrier-cancel").fadeOut()},data:i.serialize(),success:function(e){"ok"===e?($("#mainModal-suiviAdmin h6").text("Compte-rendu modifié"),$("ul#game-gift-menu li a[href=suivi-cr-admin]").trigger("click")):$("#mainModal-suiviAdmin h6").text(e),$("#mainModal-suiviAdmin").openModal()},complete:function(){$(".loaderAjax").fadeOut(),$("#alter-cr-courrier-submit").fadeIn(),$("#alter-cr-courrier-cancel").fadeIn()}})}),$(".seen-cr-trigger").on("click",function(e){e.preventDefault(),isErrorFree=!0;var r=$(this).parent().find("i"),i=$(this).parent().find("img:eq(0)"),t=$(this).parents("tr").find("td:eq(0)").text();return isErrorFree?void $.ajax({beforeSend:function(){r.fadeOut(),i.fadeIn()},dataType:"text",data:"idCr="+t+"&admin-control=19",success:function(e){"ok"===e?$("ul#game-gift-menu li a[href=suivi-cr-admin]").trigger("click"):($("#AdminModal h6.modal-text").text(e),$("#AdminModal").openModal())},error:function(){alert("Une erreur est survenue lors de l'opération , Réessayer svp.")},complete:function(){r.fadeIn(),i.fadeOut()}}):!1}),$(".notseen-cr-trigger").on("click",function(e){e.preventDefault(),isErrorFree=!0;var r=$(this).parent().find("i"),i=$(this).parent().find("img:eq(0)"),t=$(this).parents("tr").find("td:eq(0)").text();return isErrorFree?void $.ajax({beforeSend:function(){r.fadeOut(),i.fadeIn()},dataType:"text",data:"idCr="+t+"&admin-control=20",success:function(e){"ok"===e?$("ul#game-gift-menu li a[href=suivi-cr-admin]").trigger("click"):($("#AdminModal h6.modal-text").text(e),$("#AdminModal").openModal())},error:function(){alert("Une erreur est survenue lors de l'opération , Réessayer svp.")},complete:function(){r.fadeIn(),i.fadeOut()}}):!1}),$(".seen-suggest-trigger").on("click",function(e){e.preventDefault(),isErrorFree=!0;var r=$(this).parent().find("i"),i=$(this).parent().find("img:eq(0)"),t=$(this).parents("tr").find("td:eq(0)").text();return isErrorFree?void $.ajax({beforeSend:function(){r.fadeOut(),i.fadeIn()},dataType:"text",data:"idSuggest="+t+"&admin-control=21",success:function(e){"ok"===e?$("ul#game-gift-menu li a[href=suivi-suggest-admin]").trigger("click"):($("#AdminModal h6.modal-text").text(e),$("#AdminModal").openModal())},error:function(){alert("Une erreur est survenue lors de l'opération , Réessayer svp.")},complete:function(){r.fadeIn(),i.fadeOut()}}):!1}),$(".notseen-suggest-trigger").on("click",function(e){e.preventDefault(),isErrorFree=!0;var r=$(this).parent().find("i"),i=$(this).parent().find("img:eq(0)"),t=$(this).parents("tr").find("td:eq(0)").text();return isErrorFree?void $.ajax({beforeSend:function(){r.fadeOut(),i.fadeIn()},dataType:"text",data:"idSuggest="+t+"&admin-control=22",success:function(e){"ok"===e?$("ul#game-gift-menu li a[href=suivi-suggest-admin]").trigger("click"):($("#AdminModal h6.modal-text").text(e),$("#AdminModal").openModal())},error:function(){alert("Une erreur est survenue lors de l'opération , Réessayer svp.")},complete:function(){r.fadeIn(),i.fadeOut()}}):!1}),$("#filter-select-courrier").on("change",function(e){e.preventDefault();var r=parseInt($(this).find("option:selected").val()),i=$("#courrier-admin-table tbody");switch(r){case 2:i.find("tr").fadeIn(),i.find("tr").each(function(){$(this).hasClass("accc-orange-treat-stripe")||$(this).hasClass("expired")||$(this).fadeOut()});break;case 3:i.find("tr").fadeIn(),i.find("tr").each(function(){$(this).hasClass("accc-green-treat-stripe")||$(this).hasClass("load")||$(this).fadeOut()});break;case 4:i.find("tr").fadeIn(),i.find("tr").each(function(){$(this).hasClass("accc-grey-treat-stripe")||$(this).hasClass("deadline")||$(this).fadeOut()});break;case 5:i.find("tr").fadeIn(),i.find("tr").each(function(){$(this).hasClass("accc-alert-stripe")||$(this).fadeOut()});break;default:i.find("tr").fadeIn()}}),$("#adding-new-courrier-depart-accc-trigger").on("click",function(e){e.preventDefault(),$("#form-new-courrier-depart-accc-wrapper").removeClass("hidden")}),$("#new-courrier-depart-accc-registering").on("submit",function(e){e.preventDefault();var r=!0;if($("input.required,textarea.required",this).each(function(){0==validateElement.isValid(this)&&(r=!1)}),0==validateElement.isValid($("input#courrier-scan-input",this))?(r=!1,$("#file-path-courrier").removeClass("valid").addClass("invalid")):$("#file-path-courrier").removeClass("invalid").addClass("valid"),$(this).find("select").each(function(){""==$("option:selected",this).val()&&(r=!1)}),!r)return!1;var i=$(this),t=window.FormData?new FormData(i[0]):null,a=null!==t?t:i.serialize();$.ajax({data:a,beforeSend:function(){$(".loaderAjax").fadeIn(),$("#register-new-courrier-submit").fadeOut()},contentType:!1,processData:!1,success:function(e){"ok"==e?($("#mainModal-suiviAdmin h6.modal-text").text("Enregistrement du courrier départ interne réussi!"),$("#mainModal-suiviAdmin").openModal(),$("a.refresh-assets").trigger("click")):($("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal())},complete:function(){$(".loaderAjax").fadeOut(),$("#register-new-courrier-submit").fadeIn()}})}),$(".trash-courrier-depart-accc-trigger").on("click",function(e){e.preventDefault(),$currentTriggerTrash=$(this).parent().find("i"),$currentLoaderTrash=$(this).parent().find("img:eq(1)"),$currentSelectedLine=$(this).parents("tr"),$("#confirmDeleteCourrier-depart-Accc span#courrier-deleted-suivi-depart-accc").text($(this).parents("tr").find("td:eq(1)").text()),$("#confirmDeleteCourrier-depart-Accc span#courrier-deleted-id-depart").text($(this).parents("tr").find("td:eq(0)").text()),$("input#courrier-deleted-id-depart-accc").val($(this).parents("tr").find("td:eq(0)").text()),$("#confirmDeleteCourrier-depart-Accc").openModal()}),$("#delete-courrier-depart-accc-trigger").on("click",function(e){e.preventDefault(),isErrorFree=!0;var r=$("#courrier-deleted-id-depart-accc").val(),i=$("span#courrier-deleted-suivi-depart-accc").text();return/^[0-9]{1,9}$/.test(r)||(isErrorFree=!1),isErrorFree?void $.ajax({beforeSend:function(){$currentTriggerTrash.fadeOut(),$currentLoaderTrash.fadeIn()},data:"idCourrier="+r+"&admin-control=41&numSuivi="+i,success:function(e){"ok"===e?$currentSelectedLine.remove():($("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal())},complete:function(){$currentTriggerTrash.fadeIn(),$currentLoaderTrash.fadeOut()}}):!1}),$("#adding-new-arrive-courrier-accc-trigger").on("click",function(e){e.preventDefault(),$("#arrive-service-courrier-accc-wrapper").removeClass("hidden")}),$("#arrive-courrier-accc-form").on("submit",function(e){e.preventDefault();var r=!0;if($("input.required,textarea.required",this).each(function(){0==validateElement.isValid(this)&&(r=!1)}),$(this).find("select").each(function(){""==$("option:selected",this).val()&&(r=!1)}),!r)return!1;var i=$(this),t=window.FormData?new FormData(i[0]):null,a=null!==t?t:i.serialize();$.ajax({data:i.serialize(),beforeSend:function(){$(".loaderAjax").fadeIn(),$("#sortie-courrier-submit").fadeOut(),$("#sortie-courrier-cancel").fadeOut()},data:a,success:function(e){"ok"===e?($("#mainModal-suiviAdmin h6.modal-text").text("Opération reussie!"),$("a.refresh-assets").trigger("click")):$("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal()},contentType:!1,processData:!1,complete:function(){$(".loaderAjax").fadeOut(),$("#sortie-courrier-submit").fadeIn(),$("#sortie-courrier-cancel").fadeIn()}})}),$(".change-info-courrier-arrive-accc-trigger").on("click",function(e){e.preventDefault(),$currentTriggerTrash=$(this).parent().find("i"),$currentLoaderTrash=$(this).parent().find("img:eq(0)"),$("#id-alter-sortie-courrier-id").val($(this).parents("tr").find("td:eq(0)").text()),$("#confModInternal-2").openModal()}),$("#alter-courrier-sortie-submit").on("click",function(e){e.preventDefault();var r=!0,i=$("#date-form-alter-arrive-internal[name=date-search-courrier]").val(),t=$("#courrier-scan-input-arrive-alter-internal").val();if(""===i&&""===t&&(r=!1),!r)return!1;var a=$("#alter-register-courrier-arrive-accc-form"),n=window.FormData?new FormData(a[0]):null,d=null!==n?n:a.serialize();$.ajax({beforeSend:function(){$currentTriggerTrash.fadeOut(),$currentLoaderTrash.fadeIn()},data:d,contentType:!1,processData:!1,success:function(e){$("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal(),$("a.refresh-assets").trigger("click")},complete:function(){$currentTriggerTrash.fadeIn(),$currentLoaderTrash.fadeOut()}})}),$(".trash-courrier-arrive-accc-trigger").on("click",function(e){e.preventDefault(),$currentLine=$(this).parents("tr"),$currentTriggerTrash=$(this).parent().find("i"),$currentLoaderTrash=$(this).parent().find("img:eq(1)"),$("#courrier-deleted-id-arrive").text($currentLine.find("td:eq(0)").text()),$("#courrier-deleted-suivi-arrive-accc").text($currentLine.find("td:eq(1)").text()),$("#confirmDeleteCourrier-arrive-Accc").openModal()}),$("#delete-courrier-arrive-accc-trigger").on("click",function(){isErrorFree=!0;var e=$("#courrier-deleted-id-arrive").text();return/^[0-9]{1,9}$/.test(e)||(isErrorFree=!1),isErrorFree?void $.ajax({beforeSend:function(){$currentTriggerTrash.fadeOut(),$currentLoaderTrash.fadeIn()},data:"idCourrier="+e+"&admin-control=53",success:function(e){"ok"===e?$currentLine.remove():($("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal())},complete:function(){$currentTriggerTrash.fadeIn(),$currentLoaderTrash.fadeOut()}}):!1}),$(".change-arrive-courrier-trigger").on("click",function(e){e.preventDefault();var r=new Array;$(this).parents("tr").find("td").each(function(){r.push($(this).text())}),$("textarea#alter-courrier-objet-id").val(r[5]),$("textarea#alter-courrier-ref-id").val(r[2]),$("span#numSuivi-Arrive").text(r[0]+r[1]),$("textarea#alter-courrier-exp-id").val(r[3]),$("input#id-alter-alter-courrier-id").val(r[0]),$("textarea#register-courrier-dest-alter-id").val(r[4]),$("#alter-courrier-suffixe-id").val(r[1]),$assets=$(this).parent().find("i"),$loaderModify=$(this).parent().find("img:eq(0)"),0==r[9]?$("#urgence-wrapper").addClass("hidden"):$("#urgence-wrapper").removeClass("hidden"),$("#confModArrive").openModal()}),$("#alter-register-courrier-arrive-form").on("submit",function(e){e.preventDefault();var r=!0;if($("textarea.required",this).each(function(){0==validateElement.isValid(this)&&(r=!1)}),!r)return!1;var i=$(this),t=window.FormData?new FormData(i[0]):null,a=null!==t?t:i.serialize();$.ajax({beforeSend:function(){$assets.fadeOut(),$loaderModify.fadeIn()},data:a,contentType:!1,processData:!1,success:function(e){$("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal(),$("a.refresh-assets").trigger("click")},complete:function(){$assets.fadeIn(),$loaderModify.fadeOut()}})}),$(".trash-courrier-arrive-trigger").on("click",function(e){e.preventDefault(),$currentTriggerTrash=$(this).parent().find("i"),$currentLoaderTrash=$(this).parent().find("img:eq(1)"),$currentSelectedLine=$(this).parents("tr"),$("#suivi-arrive-deleted").text($(this).parents("tr").find("td:eq(2)").text()),$("#deleted-arrive-id").text($(this).parents("tr").find("td:eq(0)").text()),$("#exp-deleted-arrive-courrier").text($(this).parents("tr").find("td:eq(3)").text()),$("#confirmDeleteCourrierArr").openModal()}),$("#delete-courrier-arrive-trigger").on("click",function(e){e.preventDefault(),isErrorFree=!0;var r=$("#deleted-arrive-id").text();$("#suivi-arrive-deleted").text();return/^[0-9]{1,9}$/.test(r)||(isErrorFree=!1),isErrorFree?void $.ajax({beforeSend:function(){$currentTriggerTrash.fadeOut(),$currentLoaderTrash.fadeIn()},data:"idCourrier="+r+"&admin-control=46",success:function(e){"ok"===e?($("#mainModal-suiviAdmin h6.modal-text").text("courrier supprimé"),$currentSelectedLine.remove()):($("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal())},complete:function(){$currentTriggerTrash.fadeIn(),$currentLoaderTrash.fadeOut()}}):!1}),$("#adding-new-courrier-depart-trigger").on("click",function(e){e.preventDefault,$("#form-courrier-depart-wrapper").toggleClass("hidden")}),$("#new-courrier-depart-registering").on("submit",function(e){e.preventDefault();var r=!0;if($("textarea.required,input.required",this).each(function(){0==validateElement.isValid(this)&&(r=!1)}),!r)return!1;var i=$(this),t=window.FormData?new FormData(i[0]):null,a=null!==t?t:i.serialize();$.ajax({beforeSend:function(){$(".loaderAjax").fadeIn(),$("#register-new-courrier-submit").fadeOut(),$("#register-cancel-courrier-submit").fadeOut()},data:a,contentType:!1,processData:!1,success:function(e){"ok"==e?($("#mainModal-suiviAdmin h6.modal-text").text("Courrier départ enregistré avec success"),$("#mainModal-suiviAdmin").openModal(),$("a.refresh-assets").trigger("click")):($("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal())},complete:function(){$(".loaderAjax").fadeOut(),$("#register-new-courrier-submit").fadeIn(),$("#register-cancel-courrier-submit").fadeIn()}})}),$("#register-cancel-courrier-submit").on("click",function(){$("#form-courrier-depart-wrapper").addClass("hidden"),$("#gamer-info-table").removeClass("hidden")}),$(".change-scan-depart-courrier-trigger").on("click",function(e){e.preventDefault(),$currentTriggerTrash=$(this).parent().find("i"),$currentLoaderTrash=$(this).parent().find("img:eq(0)"),$("#numSuiviDepart-id-alter").val($(this).parents("tr").find("td:eq(1)").text()),$("#id-alter-alter-courrier-id-depart-internal").val($(this).parents("tr").find("td:eq(0)").text()),$("#confModDepart").openModal()}),$("#alter-courrier-submit-alter-depart-external").on("click",function(e){e.preventDefault();var r=!0,i=$("#numSuiviDepart-id-alter").val(),t=$("#courrier-scan-input-external-depart").val();if(""===i&&""===t&&(r=!1),!r)return!1;var a=$("#alter-register-courrier-depart-form"),n=window.FormData?new FormData(a[0]):null,d=null!==n?n:a.serialize();$.ajax({beforeSend:function(){$currentTriggerTrash.fadeOut(),$currentLoaderTrash.fadeIn()},data:d,contentType:!1,processData:!1,success:function(e){$("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal(),$("a.refresh-assets").trigger("click")},complete:function(){$currentTriggerTrash.fadeIn(),$currentLoaderTrash.fadeOut()}})}),$(".imputation-trigger").on("click",function(e){e.preventDefault(),$currentTriggerTrash=$(this).parent().find("i"),$currentLoaderTrash=$(this).parent().find("img:eq(0)"),$("input#suivi-courrier-imputation-id").val($(this).parents("tr").find("td:eq(0)").text()),$("input#pathFileFlex").val($(this).parents("tr").find("td:eq(9)").text()),$("#selectRespImputation").openModal()}),$("#imputation-form").on("submit",function(e){e.preventDefault();var r=!0;if($(this).find("select").each(function(){""==$("option:selected",this).val()&&(r=!1)}),!r)return!1;var i=$(this);$.ajax({beforeSend:function(){$currentTriggerTrash.fadeOut(),$currentLoaderTrash.fadeIn()},data:i.serialize(),success:function(e){$("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal()},complete:function(){$currentTriggerTrash.fadeIn(),$currentLoaderTrash.fadeOut()}})}),$(".archive-depart-courrier-trigger").on("click",function(){idCourrier=$(this).parents("tr").find("td:eq(0)").text(),$("#archive-courrier-id").text($(this).parents("tr").find("td:eq(2)").text()),$("#confirmArchiveDepart").openModal(),$currentTriggerTrash=$(this).parent().find("i"),$currentLoaderTrash=$(this).parent().find("img:eq(0)")}),$("#archive-courrier-depart-trigger").on("click",function(e){e.preventDefault(),$.ajax({beforeSend:function(){$currentTriggerTrash.fadeOut(),$currentLoaderTrash.fadeIn()},data:"idCourrier="+idCourrier+"&admin-control=51",success:function(e){"ok"===e?($("#mainModal-suiviAdmin h6.modal-text").text("Archivage effectué avec succes !"),$("#mainModal-suiviAdmin").openModal(),$("a.refresh-assets").trigger("click")):($("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal())},complete:function(){$currentTriggerTrash.fadeIn(),$currentLoaderTrash.fadeOut()}})}),$(".trash-courrier-depart-trigger").on("click",function(e){e.preventDefault(),$currentTriggerTrash=$(this).parent().find("i"),$currentLoaderTrash=$(this).parent().find("img:eq(1)"),$currentSelectedLine=$(this).parents("tr"),$("#suivi-arrive-deleted").text($(this).parents("tr").find("td:eq(1)").text()),$("#deleted-arrive-id").text($(this).parents("tr").find("td:eq(0)").text()),$("#exp-deleted-arrive-courrier").text($(this).parents("tr").find("td:eq(2)").text()),$("#confirmDeleteCourrierDep").openModal()}),$("#delete-courrier-depart-trigger").on("click",function(e){e.preventDefault(),isErrorFree=!0;var r=$("#deleted-arrive-id").text();$("#suivi-arrive-deleted").text();return/^[0-9]{1,9}$/.test(r)||(isErrorFree=!1),isErrorFree?void $.ajax({beforeSend:function(){$currentTriggerTrash.fadeOut(),$currentLoaderTrash.fadeIn()},data:"idCourrier="+r+"&admin-control=51",success:function(e){"ok"===e?($("#mainModal-suiviAdmin h6.modal-text").text("courrier supprimé"),$currentSelectedLine.remove()):($("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal())},complete:function(){$currentTriggerTrash.fadeIn(),$currentLoaderTrash.fadeOut()}}):!1}),$(".adding-filter-arrive-external").find(".filter-courrier-external-arrive").andSelf().on("click",function(){$("#form-new-courrier-wrapper").addClass("hidden"),$("#Filtrage-wrapper").removeClass("hidden"),$("#gamer-info-table").removeClass("hidden")}),$(".adding-filter-arrive-external,.adding-courrier-arrive-external").hover(function(){$(this).addClass("white-accc-background").find("i").removeClass("white-text").addClass("accc-color")},function(){$(this).removeClass("white-accc-background").find("i").removeClass("accc-color").addClass("white-text")}),$(".adding-courrier-arrive-external").find(".adding-courrier-external-arrive").andSelf().on("click",function(){$("#Filtrage-wrapper").addClass("hidden"),$("#gamer-info-table").addClass("hidden"),$("#form-new-courrier-wrapper").removeClass("hidden")}),$(".adding-filter-arrive-internal").find(".adding-Member-trigger").andSelf().on("click",function(){$("#form-courrier-depart-wrapper").addClass("hidden"),$("#Filtrage-wrapper").removeClass("hidden"),$("#gamer-info-table").removeClass("hidden")}),$(".adding-filter-arrive-internal,.adding-courrier-arrive-internal").hover(function(){$(this).addClass("white-accc-background").find("i").removeClass("white-text").addClass("accc-color")},function(){$(this).removeClass("white-accc-background").find("i").removeClass("accc-color").addClass("white-text")}),$(".adding-courrier-arrive-internal").find(".adding-Member-trigger").andSelf().on("click",function(){$("#Filtrage-wrapper").addClass("hidden"),$("#gamer-info-table").addClass("hidden"),$("#form-courrier-depart-wrapper").removeClass("hidden")}),$(".adding-filter-depart-internal").find(".adding-Member-trigger").andSelf().on("click",function(){$("#form-new-courrier-depart-accc-wrapper").addClass("hidden"),$("#Filtrage-wrapper").removeClass("hidden"),$("#gamer-info-table").removeClass("hidden")}),$(".adding-filter-depart-internal,.adding-courrier-depart-internal").hover(function(){$(this).hasClass("clicked")||$(this).addClass("white-accc-background").find("i").removeClass("white-text").addClass("accc-color")},function(){$(this).hasClass("clicked")||$(this).removeClass("white-accc-background").find("i").removeClass("accc-color").addClass("white-text")}),$(".adding-filter-depart-internal,.adding-courrier-depart-internal").on("click",function(){$(this).addClass("clicked").find("i").removeClass("white-text").addClass("accc-color")}),$(".adding-filter-depart-internal").find(".adding-Member-trigger").andSelf().on("click",function(){$(".adding-courrier-depart-internal").removeClass("clicked").removeClass("white-accc-background").find("i").removeClass("accc-color").addClass("white-text")}),$(".adding-courrier-depart-internal").find(".adding-Member-trigger").andSelf().on("click",function(){$(".adding-filter-depart-internal").removeClass("clicked").removeClass("white-accc-background").find("i").removeClass("accc-color").addClass("white-text")}),$(".adding-courrier-depart-internal").find(".adding-Member-trigger").andSelf().on("click",function(){$("#Filtrage-wrapper").addClass("hidden"),$("#gamer-info-table").addClass("hidden"),$("#form-new-courrier-depart-accc-wrapper").removeClass("hidden")}),$("#register-internal-depart-cancel").on("click",function(){$("#gamer-info-table").removeClass("hidden"),$(".adding-courrier-depart-internal").removeClass("clicked").removeClass("white-accc-background").find("i").removeClass("accc-color").addClass("white-text"),$("#form-new-courrier-depart-accc-wrapper").addClass("hidden")}),$(".des-not-trigger").on("click",function(e){e.preventDefault,$idCourrierNot=$(this).parents("tr").find("td:eq(0)").text(),$("#del-not-courrier").text($idCourrierNot),$currentTriggerTrash=$(this).parent().find("i"),$currentLoaderTrash=$(this).parent().find("img:eq(0)"),$("#OffNot").openModal()}),$("#del-not-courrier-trigger").on("click",function(e){e.preventDefault(),$.ajax({beforeSend:function(){$currentTriggerTrash.fadeOut(),$currentLoaderTrash.fadeIn()},data:"idCourrier="+$idCourrierNot+"&admin-control=54",success:function(e){$("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal(),$("a.refresh-assets").trigger("click")},complete:function(){$currentTriggerTrash.fadeIn(),$currentLoaderTrash.fadeOut()}})}),$(".act-not-trigger").on("click",function(e){e.preventDefault,$idCourrierNot=$(this).parents("tr").find("td:eq(0)").text(),$("#del-not-courrier").text($idCourrierNot),$currentTriggerTrash=$(this).parent().find("i"),$currentLoaderTrash=$(this).parent().find("img:eq(0)"),$("#OnNot").openModal()}),$("#act-not-courrier-trigger").on("click",function(e){e.preventDefault(),$.ajax({beforeSend:function(){$currentTriggerTrash.fadeOut(),$currentLoaderTrash.fadeIn()},data:"idCourrier="+$idCourrierNot+"&admin-control=55",success:function(e){$("#mainModal-suiviAdmin h6.modal-text").text(e),$("#mainModal-suiviAdmin").openModal(),$("a.refresh-assets").trigger("click")},complete:function(){$currentTriggerTrash.fadeIn(),$currentLoaderTrash.fadeOut()}})}),$(".seenCourrier").on("click",function(){if($(this).find("i").hasClass("ion-asterisk")){$(this).find("i.ion-asterisk").remove();var e=parseInt($("#alert-picto-new-courrier span").text());0==e?$("#alert-picto-new-courrier span").text(0):$("#alert-picto-new-courrier span").text(e-1)}})});